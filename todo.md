# NotebookLM Chatbot - TODO

## 完了した機能
- [x] MarkItDown統合
  - [x] pypdfからMarkItDownへの移行
  - [x] 複数のドキュメント形式に対応（PDF、Word、Excel、PowerPoint等）
  - [x] 高精度なテキスト抽出と文書構造の保持

- [x] 基本的なチャットボット機能
  - [x] 会話の作成と管理
  - [x] メッセージの送受信
  - [x] ドキュメントに基づいた質問応答

- [x] ドキュメント管理機能
  - [x] ドキュメントのアップロード（ファイル/テキスト）
  - [x] ドキュメントの一覧表示
  - [x] ドキュメントの削除

- [x] 認証機能
  - [x] Manus OAuth統合
  - [x] ユーザーごとのデータ管理
  - [x] ログアウト機能

- [x] モバイルUI改善
  - [x] サイドバーの開閉機能（ハンバーガーメニュー）
  - [x] 入力欄の位置調整（「Made with Manus」との重なり解消）
  - [x] レスポンシブデザイン対応

- [x] ユーザーメニュー機能
  - [x] 右上にユーザーアバターとドロップダウンメニュー
  - [x] ユーザー名、メールアドレスの表示
  - [x] ログアウトボタン

- [x] ワークスペース/プロジェクト機能
  - [x] データベーススキーマの設計と追加
  - [x] workspacesテーブルの作成
  - [x] 既存テーブルへのworkspaceId外部キーの追加
  - [x] サーバーサイドAPI実装
    - [x] ワークスペース作成API
    - [x] ワークスペース一覧取得API
    - [x] ワークスペース更新API
    - [x] ワークスペース削除API
    - [x] ワークスペースごとのドキュメント・会話取得API
  - [x] フロントエンドUI実装
    - [x] ワークスペース管理ページ作成
    - [x] ワークスペース選択UI
    - [x] サイドバーへのワークスペース表示
  - [x] 既存機能のワークスペース対応
    - [x] ドキュメント管理のワークスペース対応
    - [x] 会話履歴のワークスペース対応
  - [x] 初回ログイン時のデフォルトワークスペース自動作成
  - [x] 動作確認とテスト

## 今後の改善案
- [ ] チャット履歴のエクスポート機能
- [ ] ドキュメントの検索機能
- [ ] ワークスペース間でのドキュメントのコピー/移動
- [ ] より詳細な会話管理（タイトル編集、アーカイブ等）
- [ ] ダークモード対応
- [ ] 音声入力機能
- [ ] ドキュメントのプレビュー機能




## 修正済みのバグ
- [x] ワークスペース間でドキュメントが分離されていない（回答時に他のワークスペースのドキュメント内容が共有されている）



## 修正済みのバグ
- [x] ワークスペース間でドキュメントが分離されていない（回答時に他のワークスペースのドキュメント内容が共有されている）
- [x] モバイル版で送信ボタンが「Made with Manus」ロゴと重なって押せない



## 実装済みの改善
- [x] 入力欄をメッセージエリアの直下に配置してロゴとの重なりを回避



## ユーザーによる直接編集
- [x] 送信ボタンに30pxの下部マージンを追加（モバイルでの視認性向上）
- [x] 送信ボタンの下部マージンを25pxに微調整

## ドキュメント読み込み問題の修正
- [x] ドキュメントアップロード時のテキスト抽出エラーを調査
- [x] MarkItDown処理の修正
- [x] Documents.tsxのReactフックエラーを修正
- [ ] テキスト抽出の動作確認

